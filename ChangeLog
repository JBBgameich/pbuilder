2002-03-13  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-buildpackage: will clean up and exit if 
	  satisfydepends fail.

	* pbuilder-satisfydepends: fixed --echo and --chroot race.
	  It is now possible to specify "--chroot whatever --echo"
	  to debug some chrooting action.
	  "/usr/lib/pbuilder/pbuilder-satisfydepends" reads debian/control
	  and satisfies dependency, outside of chroot. It is rather handy.
	  saveaptcache_umountproc_cleanbuildplace cannot be called from
	  satisfydepends.
	  fixed error message.

	* pbuilder.1: added notes on "almost obsolete"ness of 
	  -m option.

2002-03-12  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-satisfydepends: created
	  Modified/forked pbuilder-buildpackage.
	  Should be possible to install build-dependency outside of 
	  chroot, for usual operation. 
	  -- Do you trust pbuilder parser ? 
	  Instead of dpkg --print-architecture, use 
	  dpkg-architecture -qDEB_HOST_ARCH
	  It is now possible to debug dependency with 
	  pbuilder-satisfydepends --echo --force-version --control controlfile

	* pbuilder-buildpackage: only run apt-get -y 
	  install ${EXTRAPACKAGES} when ${EXTRAPACKAGES} is not ""

	* debian/TODO: updated, non-root builds using fakeroot 
	  are now supported.
	  document $TMPDIR and $HOME problems.

	* pbuilder-buildpackage: only handle Build-Depends / Control
	  found in Source section and ignore any such entry in package 
	  sections..
	  

2002-03-10  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: add new bug # to changelog.

2002-03-03  Junichi Uekawa  <dancer@debian.org>

	* pbuilder.1: fix the documentation, --debbuildopts.
	Note the default.

	* pbuilder-checkparams (BUILDPLACE): no longer set DEBEMAIL to
	nobody@nowhere even if it is "". Just hope that the 
	user has set it to a valid value.

	* pbuilderrc (DEBEMAIL): nobody@nowhere is the default DEBEMAIL.
	Configure it!

	* pbuilderrc, pbuilderrc.5: change default to build source/binary
	packages. Document it.

2002-02-26  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-buildpackage: reversed logic. sort -nr instead of sort in 
	  PACKAGEVERSION apt-cache routine.

2002-02-24  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: release 0.24

	* pdebuild.1: added better documentation.

	* pbuilder-buildpackage: add runhooks

	* pbuilder-runhooks: add quoting.

	* pbuilder.1: added notes of hooks

	* pbuilder-createbuildenv: HOOKDIR checking is moved over to runhooks.
	* pbuilder-updatebuildenv: likewise

	* pbuilder-runhooks: checks HOOKDIR, and if it's blank, quit.

2002-02-22  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: release 0.23

2002-02-20  Junichi Uekawa  <dancer@debian.org>

	* Makefile (install): fixed typo.

	* pbuilderrc.5: update the doc accordingly.

	* pbuilder-buildpackage (CHROOTEXEC): add fakeroot to EXTRAPACKAGES when in fakeroot mode.

	* pbuilderrc (BASETGZ): revert the pbuilderrc change to make fakeroot always installed.
	It's only required when fakeroot mode of buildpackage is run. Make it so.

	* pbuilder-buildpackage: most things are now fixed. fakeroot mode now works!

	* Makefile (INSTALL_DIRECTORY): rewrote the makefile to be a bit better with install.

	* pbuilder-buildpackage: add fix to chown the directory as well
	removed some debug string.

2002-02-18  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-modules: adds /etc/mailname on extractbuildplace.
	emacsen should install.

	* pbuilder-buildpackage: Can now handle ([SPACE]<< version)
	version relationship. Needed for arpack
	trying to change the /etc/group string, to make things work.
	Changed ordering of commands for SUTOUSER.

2002-02-16  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-buildpackage: fix ordering, to make the passwd creation work
	-rfakeroot added to DEBBUILDOPTS automatically.
	some more typos fixed.
	very much fixo.

	* pbuilderrc: added fakeroot to default extrapackages

	* pbuilderrc.5: added notes.

2002-02-15  Junichi Uekawa  <dancer@debian.org>

	* pbuilder.1: document updated, noting of minor details of 
	what option takes effect in what command.

	* pbuilder-buildpackage: changing it to use the specified uid.
	EXTRAPACKAGES option is valued within "pbuilder build"

	* pbuilderrc.5: document BUILDUSERNAME, BUILDUSERID

	* pbuilderrc (BUILDUSERNAME): added
	(BUILDUSERID): added

2002-02-14  Junichi Uekawa  <dancer@debian.org>

	* debian/TODO: document some known bugs and features.

	* pbuilder-updatebuildenv: instead of purge lilo,
	purge $REMOVEPACKAGES
	Tried to add something like: -o 'DPkg::Options={"--force-confnew";}' 
	to apt-get dist-upgrade, but it doesn't seem to function.

	* pbuilder-buildpackage: quoting some string
	redirct the cp error output to /dev/null because it looks ugly.
	Slight mods to message

2002-02-13  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-buildpackage: support for saving the aptcache when
	  build target fails in the middle of installing the 
	  build dependency.

2002-02-12  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: 0.22 released, 0.23 started.

	* pbuilder-updatebuildenv: apt-get clean is handled with ||true

	* pbuilder-modules: some notes will be given if cache content is empty
	Added more check.

	* debian/changelog: updated the changelog, adding notes.

2002-02-11  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-buildpackage: added a banner for pbuilder
	changed the message for build-dependency failure, to make it more "pbuilder" like.

2002-02-10  Junichi Uekawa  <dancer@debian.org>

	* debian/TODO: updated TODO

	* debian/README.Debian (Testsuite): document testsuit. 
	The current testsuite is not individual programs, but the 
	Debian main archive itself.

	* debian/changelog: update the changelog wrt the problem with debootstrap.

	* debian/control (Depends): update the depends field to require 0.1.16.2
	of debootstrap. There was a bug in 0.1.16 and 0.1.16.1
	0.1.15.7 etc. should work, but they no longer exist in the archive,
	I shouldn't worry about it.

	* pbuilder-buildpackage: fixed the sed rule to allow for space.
	
	* pbuilder-buildpackage: fixing the awk bit to make case-insensitive,
	and non-intervening. Build-Depends detection should be better now.
	slight fix in ordering and minor detail.

	* pbuilder-buildpackage: Build-Depends-Indep etc. field names 
	are handled as case-insensitive. So "BuilD-DePeNDS-inDeP" is 
	a valid field name according to policy.
	INSTALLPKG and INSTALLPKGMULTI are local vars
	considering INSTALLPKGMULTI is printed with $0, not $1 (which contains random output)
	introduced CURRENTREALPKGNAME
	Using the CURRENTREALPKGNAME variable in depends/conflicts checker.
	fixed the CURRENTREALPKGNAME to handle packages with build-dependency 
	without space. i.e. PACKAGENAME(>> version)

	* pbuilder-updatebuildenv: uses recover_aptcache and save_aptcache.

	* pbuilder-createbuildenv: added recover_aptcache, and save_aptcache 
	to the creation process.

	* pbuilder-modules: recover_aptcache, save_aptcache function
	created

	* pbuilder-buildpackage: moved the recovering the aptcache
	and saving routine out to -modules.

2002-02-09  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-modules: some message change.

	* pbuilder-buildpackage: Build-[dD]epends, and 
	Build-[Dd]epends-[Ii]ndep, because many packages seem to use
	Build-depends instead of Build-Depends, and most tools seem to
	cope with it.
	Likewise for Build-Conflicts.
	fix some messages.

2002-02-08  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: release 0.21

	* pbuilder-buildpackage: added echobacktime function, and
	some logging of time, so that the information can be used
	in tracking the time required.

	* pdebuild: use the dpkg-buildpackage -r option rather than
	calling it with $BUILDSOURCEROOTCMD.
	dpkg-buildpackage does more optimal things. Am I breaking things?

	* pbuilder-checkparams : adding DEBIAN_FRONTEND=Noninteractive
	case to the noninteractive mode check. Needed to work around FAI/
	sbuild/whateverelse undocumented incompatibility.

2002-02-06  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: updated the changelog.

2002-02-02  Junichi Uekawa  <dancer@debian.org>

	* debian/README.Debian: typo fixes.

	* pbuilderrc.5: checked and fixed typos.

	* pbuilder-modules: fixed, privilate -> privilege

	* debian/TODO: fixed typo, added notes.

	* pbuilder-updatebuildenv: added GPL notice

	* pbuilder-createbuildenv: added GPL notice

	* pbuilder-checkparams: added GPL notice

	* pbuilder-modules: added GPL notice

	* pbuilder-buildpackage: added GPL notice at top

	* pbuilder: updated copyright notice to 2001,2002.

	* pbuilder: remove the unnecessary test -z thing,
	 so that duplicate help message will not appear.

	* pbuilderrc.5: APTCONFDIR documentation

	* pbuilder.1: document --aptconfdir
	added some more comments on "update" option and "--distribution"
	more notes are added to --buildresult.

	* pbuilder-modules: when aptconfdir is set, 
	just dump the files inside there to /etc/apt inside chroot. 

	* pbuilder-checkparams: added --aptconfdir

	* pbuilderrc (APTCONFDIR): new variable.

	* pbuilder-modules: installing apt-lines will use arbitrary dir to copy the template from.

2002-02-01  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-checkparams: --othermirror option parser had a typo. 
	  pointed by kov@debian.org

2002-01-31  Junichi Uekawa  <dancer@debian.org>

	* debian/TODO: updated documentation in TODO.

 	* debian/changelog, debian/README.Debian: the documented workaround is not a good one, removed the workaround, and mention of it.

	* debian/README.Debian: updates to the documentation.

2002-01-28  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: updated the changelog.

	* pbuilder-checkparams: change the --logfile option behavior,
	it should be able to redirect stderr output better.
	Read ~/.pbuilderrc

	* pbuilder.1: typo/spelling mistake fixed.

	* debian/README.Debian (Notes): added notes on the workaround.

2002-01-27  Junichi Uekawa  <dancer@debian.org>

	* pbuilder: modified to use umountproc_cleanbuildplace in "trap" for "pbuilder login"

	* pbuilder-createbuildenv: added a trap function to cleanbuildplace on exit.
	some obsolete and unnecessary cleanbuildplace invocation removed.

	* pbuilder-buildpackage: changed abortingfunction -> umountproc_cleanbuildplace (name change)
	* pbuilder-modules (umountproc_cleanbuildplace): changed function name.
	* pbuilder-updatebuildenv: changed aborting function to umountproc_cleanbuildplace, to unify.
	moved the "trap" invocation to a better location, before loadhooks.

2002-01-24  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-updatebuildenv: Aborting function is performed through 
	  trap * exit. Probably others too need to be done this way.

2002-01-22  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-updatebuildenv: added a aborting function abortprocess, 
	  so that any upgrade process that fails will clean up.

2002-01-18  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-checkparams: fixed a typo.

2002-01-18    <dancer@debian.org>

	* pbuilder-modules: added documentation for debbuildopts.

	* pbuilderrc (DEBBUILDOPTS): added a default value for the new option.

	* pbuilder-buildpackage : hand-applied patch from Daniel Kobras
	* pbuilder-checkparams: ditto
	* pbuilder.1: ditto
	* pbuilderrc.5: ditto

	* added copyright notice to bottom of ChangeLog

	* AUTHORS: added Daniel Kobras to the list. Maybe he should join the "THANKS" file, but I don't know if I should be making another file.

	* debian/TODO: updated

2002-01-15    <dancer@debian.org>

	* pbuilderrc: quoting some text just for the sake of quoting.
	adding some verbose comments.

	* pbuilder-checkparams: var emptying at the beginning for DPKG_BUILDPACKAGEOPTS was obsolete, removed. 

	* debian/README.Debian (Testsuite): added notes on testsuites, and how they are doing.

	* pbuilder: Modify $@ to "$@" as pointed out by Daniel Kobras.

2002-01-15  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-checkparams : added routine to load usr/share/pbuilder/pbuilderrc if it exists.

	* Makefile (install): added usr/share/pbuilder/pbuilderrc default config.


	This file contains some changelog record for individual files.
	More generic info should be found in debian/changelog.
	I should probably create NEWS file, but well... it takes some
	energy. When pbuilder stabilizes, I will look at doing it.

	14 Jan 2002 Junichi Uekawa <dancer@debian.org>
	Copyright (c) 2001, 2002 Junichi Uekawa

	$Id$

	
