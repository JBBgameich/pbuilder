2002-02-14  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-buildpackage: quoting some string

2002-02-13  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-buildpackage: support for saving the aptcache when
	  build target fails in the middle of installing the 
	  build dependency.

2002-02-12  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: 0.22 released, 0.23 started.

	* pbuilder-updatebuildenv: apt-get clean is handled with ||true

	* pbuilder-modules: some notes will be given if cache content is empty
	Added more check.

	* debian/changelog: updated the changelog, adding notes.

2002-02-11  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-buildpackage: added a banner for pbuilder
	changed the message for build-dependency failure, to make it more "pbuilder" like.

2002-02-10  Junichi Uekawa  <dancer@debian.org>

	* debian/TODO: updated TODO

	* debian/README.Debian (Testsuite): document testsuit. 
	The current testsuite is not individual programs, but the 
	Debian main archive itself.

	* debian/changelog: update the changelog wrt the problem with debootstrap.

	* debian/control (Depends): update the depends field to require 0.1.16.2
	of debootstrap. There was a bug in 0.1.16 and 0.1.16.1
	0.1.15.7 etc. should work, but they no longer exist in the archive,
	I shouldn't worry about it.

	* pbuilder-buildpackage: fixed the sed rule to allow for space.
	
	* pbuilder-buildpackage: fixing the awk bit to make case-insensitive,
	and non-intervening. Build-Depends detection should be better now.
	slight fix in ordering and minor detail.

	* pbuilder-buildpackage: Build-Depends-Indep etc. field names 
	are handled as case-insensitive. So "BuilD-DePeNDS-inDeP" is 
	a valid field name according to policy.
	INSTALLPKG and INSTALLPKGMULTI are local vars
	considering INSTALLPKGMULTI is printed with $0, not $1 (which contains random output)
	introduced CURRENTREALPKGNAME
	Using the CURRENTREALPKGNAME variable in depends/conflicts checker.
	fixed the CURRENTREALPKGNAME to handle packages with build-dependency 
	without space. i.e. PACKAGENAME(>> version)

	* pbuilder-updatebuildenv: uses recover_aptcache and save_aptcache.

	* pbuilder-createbuildenv: added recover_aptcache, and save_aptcache 
	to the creation process.

	* pbuilder-modules: recover_aptcache, save_aptcache function
	created

	* pbuilder-buildpackage: moved the recovering the aptcache
	and saving routine out to -modules.

2002-02-09  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-modules: some message change.

	* pbuilder-buildpackage: Build-[dD]epends, and 
	Build-[Dd]epends-[Ii]ndep, because many packages seem to use
	Build-depends instead of Build-Depends, and most tools seem to
	cope with it.
	Likewise for Build-Conflicts.
	fix some messages.

2002-02-08  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: release 0.21

	* pbuilder-buildpackage: added echobacktime function, and
	some logging of time, so that the information can be used
	in tracking the time required.

	* pdebuild: use the dpkg-buildpackage -r option rather than
	calling it with $BUILDSOURCEROOTCMD.
	dpkg-buildpackage does more optimal things. Am I breaking things?

	* pbuilder-checkparams : adding DEBIAN_FRONTEND=Noninteractive
	case to the noninteractive mode check. Needed to work around FAI/
	sbuild/whateverelse undocumented incompatibility.

2002-02-06  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: updated the changelog.

2002-02-02  Junichi Uekawa  <dancer@debian.org>

	* debian/README.Debian: typo fixes.

	* pbuilderrc.5: checked and fixed typos.

	* pbuilder-modules: fixed, privilate -> privilege

	* debian/TODO: fixed typo, added notes.

	* pbuilder-updatebuildenv: added GPL notice

	* pbuilder-createbuildenv: added GPL notice

	* pbuilder-checkparams: added GPL notice

	* pbuilder-modules: added GPL notice

	* pbuilder-buildpackage: added GPL notice at top

	* pbuilder: updated copyright notice to 2001,2002.

	* pbuilder: remove the unnecessary test -z thing,
	 so that duplicate help message will not appear.

	* pbuilderrc.5: APTCONFDIR documentation

	* pbuilder.1: document --aptconfdir
	added some more comments on "update" option and "--distribution"
	more notes are added to --buildresult.

	* pbuilder-modules: when aptconfdir is set, 
	just dump the files inside there to /etc/apt inside chroot. 

	* pbuilder-checkparams: added --aptconfdir

	* pbuilderrc (APTCONFDIR): new variable.

	* pbuilder-modules: installing apt-lines will use arbitrary dir to copy the template from.

2002-02-01  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-checkparams: --othermirror option parser had a typo. 
	  pointed by kov@debian.org

2002-01-31  Junichi Uekawa  <dancer@debian.org>

	* debian/TODO: updated documentation in TODO.

 	* debian/changelog, debian/README.Debian: the documented workaround is not a good one, removed the workaround, and mention of it.

	* debian/README.Debian: updates to the documentation.

2002-01-28  Junichi Uekawa  <dancer@debian.org>

	* debian/changelog: updated the changelog.

	* pbuilder-checkparams: change the --logfile option behavior,
	it should be able to redirect stderr output better.
	Read ~/.pbuilderrc

	* pbuilder.1: typo/spelling mistake fixed.

	* debian/README.Debian (Notes): added notes on the workaround.

2002-01-27  Junichi Uekawa  <dancer@debian.org>

	* pbuilder: modified to use umountproc_cleanbuildplace in "trap" for "pbuilder login"

	* pbuilder-createbuildenv: added a trap function to cleanbuildplace on exit.
	some obsolete and unnecessary cleanbuildplace invocation removed.

	* pbuilder-buildpackage: changed abortingfunction -> umountproc_cleanbuildplace (name change)
	* pbuilder-modules (umountproc_cleanbuildplace): changed function name.
	* pbuilder-updatebuildenv: changed aborting function to umountproc_cleanbuildplace, to unify.
	moved the "trap" invocation to a better location, before loadhooks.

2002-01-24  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-updatebuildenv: Aborting function is performed through 
	  trap * exit. Probably others too need to be done this way.

2002-01-22  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-updatebuildenv: added a aborting function abortprocess, 
	  so that any upgrade process that fails will clean up.

2002-01-18  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-checkparams: fixed a typo.

2002-01-18    <dancer@debian.org>

	* pbuilder-modules: added documentation for debbuildopts.

	* pbuilderrc (DEBBUILDOPTS): added a default value for the new option.

	* pbuilder-buildpackage : hand-applied patch from Daniel Kobras
	* pbuilder-checkparams: ditto
	* pbuilder.1: ditto
	* pbuilderrc.5: ditto

	* added copyright notice to bottom of ChangeLog

	* AUTHORS: added Daniel Kobras to the list. Maybe he should join the "THANKS" file, but I don't know if I should be making another file.

	* debian/TODO: updated

2002-01-15    <dancer@debian.org>

	* pbuilderrc: quoting some text just for the sake of quoting.
	adding some verbose comments.

	* pbuilder-checkparams: var emptying at the beginning for DPKG_BUILDPACKAGEOPTS was obsolete, removed. 

	* debian/README.Debian (Testsuite): added notes on testsuites, and how they are doing.

	* pbuilder: Modify $@ to "$@" as pointed out by Daniel Kobras.

2002-01-15  Junichi Uekawa  <dancer@debian.org>

	* pbuilder-checkparams : added routine to load usr/share/pbuilder/pbuilderrc if it exists.

	* Makefile (install): added usr/share/pbuilder/pbuilderrc default config.


	This file contains some changelog record for individual files.
	More generic info should be found in debian/changelog.
	I should probably create NEWS file, but well... it takes some
	energy. When pbuilder stabilizes, I will look at doing it.

	14 Jan 2002 Junichi Uekawa <dancer@debian.org>
	Copyright (c) 2001, 2002 Junichi Uekawa

	$Id$

	
